<!DOCTYPE html>
<html>
<head>
   <title>Philadelphia Pet Saver Mapping App</title>
        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />
        <script src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js"></script>
      
        <style>
        body
        { background-color:#bada55
	};
        {padding: 0; margin: 0 }
        html, body, #map { height: 100% }
        </style>
        
</head>
<body>
   <h><i><font size= "14" color="white">PHILADELPHIA ANIMAL RESCUE, SHELTER and CARE RESOURCE GUIDE</font></i></h>
	<center><p><font size= "5" color="white">Animal Saver Resources Near You</font></p></center>
	<center><div id="map" style="width: 800px; height: 400px; border: 2.5px solid #000000;"></div></center>
	<div id="map"></div>
	
        <script>
       var layer = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
           attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
});
 
var map = L.map('map', {
  scrollWheelZoom: true,
  center: [39.951557, -75.151643],
  zoom: 12,
})
map.addLayer(layer);


function onEachFeature(feature, layer) {
    if (feature.properties && feature.properties.Name) {
        layer.bindPopup(feature.properties.Name + "<br>" + feature.properties.img + "<br>" + feature.properties.Address);
    }
}

var geoJsonFeature = [
	{"type": "FeatureCollection",
  "features": [
    {"type": "Feature",
      "properties": {
        "Name": "<b>P.A.W.S</b>",
        "img": "<img src='http://www.packpeople.com/wp-content/uploads/2011/06/PAWS-logo-with-tagline.jpg' height=120 width=120/>",
        "Address": "Address:100 N 2nd St,Philadelphia PA,19106",
        "markerColor": "#00FF57"
        },
      "geometry": {
        "type": "Point",
        "coordinates": [-75.143401,39.952172]
      }
    },
    {"type": "Feature",
      "properties": {
        "Name": "<b>Morris Animal Refuge</b>",
        "img": "<img src='https://media.licdn.com/mpr/mpr/shrink_200_200/AAEAAQAAAAAAAAReAAAAJDg3ZTYzYTY0LTM3MTMtNGRjYy1hNDkzLWVjMzA1M2FjYzM5Zg.png' height=120 width=120 />",
        "Address": "Address:1242 Lombard St,Philadelphia,PA 19147",
        "markerColor": "#00FF57"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [-75.162749,39.944248]
      }
    },
    {"type": "Feature",
      "properties": {
        "Name": "<b>Animal Care and Control</b>",
        "img": "<img src='http://www.acctphilly.org/wp-content/uploads/2014/08/ACCT-Philly-cat-site-logo.png?936bb7' height=120 width=120/>",
        "Address": "Address:111 W Hunting Park Ave,Philadelphia,PA 19140",
        "markerColor": "#00FF57"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [-75.1295983,40.0146844]
      }
    },
    {"type": "Feature",
      "properties": {
        "Name": "<b>SPCA</b>",
        "img": "<img src='http://www.pspca.org/wp-content/uploads/2015/10/PSPCA-logo-150x97.png' height=120 width=120 />",
        "Address": "Address:350 E Erie Ave,Philadelphia,PA 19134",
        "markerColor": "#00FF57"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [-75.121958,40.006482]
      }
    },
    {"type": "Feature",
      "properties": {
        "Name": "<b>P.A.W.S NorthEast</b>",
        "img": "<img src='https://www.z2systems.com/neon/resource/phillypaws/images/PAWSLicensePlate_sm(2).jpg' height=120 width=120/>",
        "Address": "Address:1810 Grant Ave, Philadelphia, PA 19115",
        "markerColor": "#00FF57"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [-75.0379953,40.084925]
      }
    },
    {"type": "Feature",
      "properties": {
        "Name": "<b>Street Tails</b>",
        "img": "<img src='http://1.bp.blogspot.com/_GXLa04GFe2w/Sp56BnbSQuI/AAAAAAAAAW8/_7JRHurLEyQ/s320/Street+Tails+Logo.jpg' height=120 width=120/>",
        "Address": "Address:1030 N 2nd St #401,Philadelphia,PA 19123",
        "markerColor": "#00FF57"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [-75.1407965,39.9671142]
      }
    },
    {"type": "Feature",
      "properties": {
        "Name": "<b>Saved Me</b>",
        "img": "<img src='http://savedme.org/wp-content/uploads/2014/11/savedmelogo.png' height=120 width=120/>",
        "Address": "Address:860-862 N 3rd St,Philadelphia,PA 19123",
        "markerColor": "#00FF57"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [-75.1429401,39.964937]
      }
    },
    {"type": "Feature",
      "properties": {
        "Name": "<b>Philadelphia Greyhound Connection</b>",
        "img": "<img src='http://i3.cpcache.com/product_zoom/355455426/pgc_logo_1_dog_tshirt.jpg?height=250&width=250&padToSquare=true' height=120 width=120/>",
        "Address": "Address:2210 Murray St,Philadelphia,PA 19115",
        "markerColor": "#00FF57"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [-75.0284982,40.0824553]
      }
    },
    {"type": "Feature",
      "properties": {
        "Name": "<b>Doggie Style South Philly</b>",
        "img": "<img src='http://www.trademarkia.com/logo-images/kh-investors/doggie-style-77801224.jpg' height=120 width=120/>",
        "Address": "Address:1700 E Passyunk Ave,Philadelphia,PA 19148",
        "markerColor": "#00FF57"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [-75.1653143,39.9286594]
      }
    },
    {"type": "Feature",
      "properties": {
        "Name": "<b>Red Paw</b>",
        "img": "<img src='http://southofsouth.org/sites/southofsouth.org/files/imagecache/250px_thumb/RedPaw_logo.JPG' height=120 width=120/>",
        "Address": "Address:1328 S 24th St,Philadelphia,PA 19146",
        "markerColor": "#00FF57"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [-75.1848181,39.9355916]
      }
    },
    {"type": "Feature",
      "properties": { 
        "Name": "<b>Philadelphia Community Cats Council</b>",
        "img": "<img src='http://volunteer.phila.gov/storage/users/611/2611/images/890/thumbs/organization_logo.jpg' height=120 width=120/>",
        "Address": "Address: Everywhere Philadelphia",
        "markerColor": "#00FF57"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [-75.170693,39.9281211]
      }
    }
  ]
}
  ];
  function style(feature) {
    return {
        color: '#06406F',
        opacity: 1,
        fillColor: '#DDDDFF',
        fillOpacity: 0.9,
        weight: 3,
        radius: 6,
        clickable: true
    }
}

for (var i = 0; i < result.length; i++) {
    var json_features = {
        type: "Feature",
        style: style,
        properties: result[i],
        geometry: {
            type: "Point",
            coordinates: [
                result[i].longitude, result[i].latitude
            ]
        }
    };
    json_data.features.push(json_features);
};
$scope.geojson = {
    data: json_data,
    pointToLayer: function(feature, latlng) {
        return new L.circleMarker(latlng, style)
    }
};
 
 
 L.geoJson(geoJsonFeature, {
  				 onEachFeature: onEachFeature
  				 
 }).addTo(map);

  			
    
    </script>
 

  
</body>
</html>

		    
    
  
